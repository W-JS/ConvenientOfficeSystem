<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Meeting</title>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script th:src="@{/js/BsMultiSelect.js}"></script>
    <link href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <link rel="icon" type="image/x-icon" th:href="@{/favicon.ico}" href="../static/favicon.ico"/>
    <link rel="stylesheet" th:href="@{/jedate-6.0.2/skin/jedate.css}">



</head>
<body>

<h1>新建meeting表单</h1>
<main>
    <div style="text-align:center">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 ">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                <!-- <input th:id="account" th:value="${account}" hidden>
                <input th:id="target" th:value="${target}" hidden> -->
                <!--        <form method="post" th:action="@{/sfile/addpage/{account}/{target}(account=${account},target=1)}">-->
                <form th:action="@{/apl/insert}" method="post">

<!--                    <div class="form-group col-md-6 col-sm-6">-->
<!--                        <label for="meetingserialno" class="col-sm-4 control-label"> 会议序号</label>-->
<!--                        <div class="col-sm-8">-->
<!--                            <input name="meetingserialno" type="text" class="form-control" th:value="${meetingNo}"-->
<!--                                   id="meetingserialno" placeholder="会议序号" th:required="true" maxlength="40" hidden>-->
<!--                        </div>-->
<!--                    </div>-->
                    <input name="meetingserialno"id="meetingserialno" th:value="${meetingNo}"hidden>
                    <div class="form-group col-md-6 col-sm-6">
                        <label for="meetingname" class="col-sm-4 control-label">会议名称</label>
                        <div class="col-sm-8">
                            <input name="meetingname" type="text" class="form-control"
                                   id="meetingname" placeholder="会议名称" th:required="true" maxlength="30">
                        </div>
                    </div>

                    <div class="form-group col-md-6 col-sm-6">
                        <label for="topic" class="col-sm-4 control-label">会议议题</label>
                        <div class="col-sm-8">
                            <input name="topic" type="text" class="form-control"
                                   id="topic" placeholder="会议议题" th:required="true" maxlength="30">
                        </div>
                    </div>


                    <div class="form-group col-md-6 col-sm-6 ">
                        <label class="col-sm-4 control-label">召集人</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="organizer">
                                <option value="0">--请选择--</option>
                                <option th:each="people:${allUser}" th:text="${people.getName()}"
                                        th:value="${people.getAccount()}"></option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group col-md-6 col-sm-6 ">
                        <label class="col-sm-4 control-label">主持人</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="chieforganizer">
                                <option value="0">--请选择--</option>
                                <option th:each="people:${allUser}" th:text="${people.getName()}"
                                        th:value="${people.getAccount()}"></option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group col-md-6 col-sm-6 ">
                        <label class="col-sm-4 control-label">发言人</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="spokesman">
                                <option value="0">--请选择--</option>
                                <option th:each="people:${allUser}" th:text="${people.getName()}"
                                        th:value="${people.getAccount()}"></option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group col-md-6 col-sm-6">
                        <label for="meetinglocus" class="col-sm-4 control-label">会议地点</label>
                        <div class="col-sm-8">
                            <input name="meetinglocus" type="text" class="form-control"
                                   id="meetinglocus" placeholder="会议地点" th:required="ture" maxlength="50">
                        </div>
                    </div>

                    <input name="applicator"  th:value="${user}" id="applicator" hidden>

                    <div class="form-group col-md-6 col-sm-6 ">
                        <label class="col-sm-4 control-label">审核人</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="auditor">
<!--                                <option value="0">&#45;&#45;请选择&#45;&#45;</option>-->
                                <option th:each="people:${allUser}" th:text="${people.getName()}"
                                        th:value="${people.getAccount()}"></option>
                            </select>
                        </div>
                    </div>


                    <input name="auditing" type="auditing"  id="auditing"  hidden value="">


                    <div class="form-group col-md-6 col-sm-6 ">
                        <label class="col-sm-4 control-label">纪要草拟人</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="minuterecorder">
                                <option value="0">--请选择--</option>
                                <option th:each="people:${allUser}" th:text="${people.getName()}"
                                        th:value="${people.getAccount()}"></option>
                            </select>
                        </div>
                    </div>


                    <input name="state" type="text"id="state" hidden value="未开始" >

                    <div class="form-group col-md-6 col-sm-6 ">
                        <label class="col-sm-4 control-label">通知人</label>
                        <div class="col-sm-8">
                            <select class="form-control" name="informer">
                                <option value="0">--请选择--</option>
                                <option th:each="people:${allUser}" th:text="${people.getName()}"
                                        th:value="${people.getAccount()}"></option>
                            </select>
                        </div>
                    </div>


                    <div class="form-group col-md-6 col-sm-6">
                        <label  class="col-sm-4 control-label">开始时间</label>
                        <div class="col-sm-8 jeinpbox">
                            <input name="aatime" type="text" class="jeinput"
                                   id="time" placeholder="YYYY-MM-DD hh:mm:ss" value="" >
                        </div>
                    </div>

                    <div class="form-group col-md-6 col-sm-6">
                        <label  class="col-sm-4 control-label">结束时间</label>
                        <div class="col-sm-8 jeinpbox">
                            <input name="bbtime" type="text" class="jeinput"
                                   id="atime" placeholder="YYYY-MM-DD hh:mm:ss" value="" >
                        </div>
                    </div>




                    <div class="form-group col-md-6 col-sm-6 ">
                        <label class="col-sm-4 control-label">参与人员</label>
                        <input name="participants" id="participants" type="text" hidden>
                        <div class="col-sm-8">
                                <select class="form-control" name="participants1" id="participants1" multiple="multiple" style="display: none;">
                                <option th:each="people:${allUser}" th:text="${people.getAccount()}"
                                        th:value="${people.getAccount()}"></option>
                            </select>

                            <script type="text/javascript">

                                // $(function(){
                                function query() {

                                    // $("#abv").click(function(){
                                    var selected = '';

                                    $("#participants1 option:selected").each(function(){

                                        selected +=','+ $(this).text() ;
                                    });
                                    console.log(selected);


                                    $('#participants').val(selected);
                                };


                            </script>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-4">
                            <a class="btn btn-small pull-right btn-danger" th:href="@{/meetingindex}">退出</a>
                            <button class="btn btn-small pull-right btn-success" type="submit" onclick="query()">提交</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    </div>
</main>


<script th:src="@{/jedate-6.0.2/jquery.jedate.js}"></script>
<script th:src="@{/js/notice/addNotice.js}"></script>
<script>
    $("#participants1").bsMultiSelect({
        selectedPanelDefMinHeight: 'calc(2.25rem + 2px)',
        selectedPanelLgMinHeight: 'calc(2.875rem + 2px)',
        selectedPanelSmMinHeight: 'calc(1.8125rem + 2px)',
        selectedPanelDisabledBackgroundColor: '#e9ecef',
        selectedPanelFocusBorderColor: '#80bdff',
        selectedPanelFocusBoxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.25)',
        selectedPanelFocusValidBoxShadow: '0 0 0 0.2rem rgba(40, 167, 69, 0.25)',
        selectedPanelFocusInvalidBoxShadow: '0 0 0 0.2rem rgba(220, 53, 69, 0.25)',
        filterInputColor: '#495057',
        selectedItemContentDisabledOpacity: '.65',
        dropdDownLabelDisabledColor: '#6c757d',
        containerClass: 'dashboardcode-bsmultiselect',
        dropDownMenuClass: 'dropdown-menu',
        dropDownItemClass: 'px-2',
        dropDownItemHoverClass: 'text-primary bg-light',
        selectedPanelClass: 'form-control',
        selectedItemClass: 'badge',
        removeSelectedItemButtonClass: 'close',
        filterInputItemClass: '',
        filterInputClass: ''
    });
</script>

<!--<input type="button" id="abv" value="测试用按钮"/>-->


</body>

</html>